# Взаимодействие с сервером

События клиента, информация о которых отсылается на сервер (пока только постройка / снос зданий):

- Запрос состояния (StateRequestEvent) &mdash; игрок запрашивает информацию об игре. Сервер возвращает всё состояние игры;
- Запрос обновления (UpdateRequestEvent) &mdash; игрок запрашивает изменения состояния от сервера. Сервер возращает все изменения состояния игры;
- Постройка здания (BuildEvent) &mdash; игрок строит какое-либо здание. Сервер возвращает успешность действия (или неуспешность) и уведомляет других игроков о новом здании;
- Снос здания (DestroyEvent) &mdash; игрок сносит какое-либо здание. Сервер возвращает успешность действия (или неуспешность) и уведомляет других игроков о сносе.

Отношения объектов игры (очень предварительный вариант):

- Команда **(1..*)**
  - Здание **(1..)**
    - Координаты **(1)**
    - Данные здания **(1)** (для каждого вида здания данные разные)
  - Единица техники **(0..*)**
    - Координаты **(1)**
    - Данные единицы **(1)** (для каждого вида единицы техники данные разные)

*Примечание*: отношения объектов игры отображают настоящую структуру не полностью. Дальнейшая информация будет позже.

## StateRequestEvent

**Клиент -> Сервер**: ничего.

**Сервер -> Клиент**:
- данные об игре (структура показана выше (на самом деле, ещё не показана)).

## UpdateRequestEvent

**Клиент -> Сервер**: ничего

**Сервер -> Клиент**:
- изменения игрового состояния, которые нужно передать игроку.

**Дополнительные действия**: очередь обновлений для игрока очищается.